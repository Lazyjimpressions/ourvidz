
# Roleplay Test Execution Report

**Generated:** 2025-12-17T23:53:48.578Z
**Total Duration:** 8.45s

## Summary

- **Total Test Suites:** 4
- **Passed:** 2
- **Failed:** 2
- **Success Rate:** 50.0%

## Test Suite Results


### Character Selection & Navigation
- **Status:** âœ… PASSED
- **Duration:** 1.25s



### Chat Interaction Paths
- **Status:** âŒ FAILED
- **Duration:** 3.05s
- **Error:** Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-chat-interactions.ts"



### System Prompt & Template Testing
- **Status:** âœ… PASSED
- **Duration:** 1.19s



### Database State Verification
- **Status:** âŒ FAILED
- **Duration:** 2.96s
- **Error:** Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-database-state.ts"



## Detailed Output


### Character Selection & Navigation
```
ğŸš€ Starting Character Selection & Navigation Tests
============================================================

ğŸ§ª Test 1.1: Direct Character Selection
============================================================
âœ… PASSED

ğŸ§ª Test 1.2: Character Selection with Scene
============================================================
âœ… PASSED

ğŸ§ª Test 1.3: Character Info Drawer
============================================================
âœ… PASSED

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 1.1: Direct Character Selection
âœ… Test 1.2: Character Selection with Scene
âœ… Test 1.3: Character Info Drawer

Total: 3 | Passed: 3 | Failed: 0


```


### Chat Interaction Paths
```
âœ… Using test user ID: 3348b481-8fb1-4745-8e6c-db6e9847e429
ğŸš€ Starting Chat Interaction Tests
============================================================

ğŸ§ª Test 2.1: Conversation Kickoff
============================================================
âŒ FAILED
Errors: [
  'Template load failed: JSON object requested, multiple (or no) rows returned'
]

ğŸ§ª Test 2.2: Regular Message Exchange
============================================================
âŒ FAILED
Errors: [
  'Chat response failed: Edge Function returned a non-2xx status code'
]

ğŸ§ª Test 2.3: Message with Scene Generation
============================================================
âŒ FAILED
Errors: [
  'Chat with scene generation failed: Edge Function returned a non-2xx status code'
]

============================================================
ğŸ“Š Test Summary
============================================================
âŒ Test 2.1: Conversation Kickoff
   - Template load failed: JSON object requested, multiple (or no) rows returned
âŒ Test 2.2: Regular Message Exchange
   - Chat response failed: Edge Function returned a non-2xx status code
âŒ Test 2.3: Message with Scene Generation
   - Chat with scene generation failed: Edge Function returned a non-2xx status code

Total: 3 | Passed: 0 | Failed: 3


Error:
Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-chat-interactions.ts"

```


### System Prompt & Template Testing
```
ğŸš€ Starting System Prompt & Template Tests
============================================================

ğŸ§ª Test 3.1: Prompt Template Application
============================================================
âœ… PASSED

ğŸ§ª Test 3.2: Character Data Integration
============================================================
âœ… PASSED

ğŸ§ª Test 3.3: Scene System Prompt Application
============================================================
âœ… PASSED

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 3.1: Prompt Template Application
âœ… Test 3.2: Character Data Integration
âœ… Test 3.3: Scene System Prompt Application

Total: 3 | Passed: 3 | Failed: 0


```


### Database State Verification
```
âœ… Using test user ID: 3348b481-8fb1-4745-8e6c-db6e9847e429
ğŸš€ Starting Database State Verification Tests
============================================================

ğŸ§ª Test 9.1: Conversation Lifecycle
============================================================
âœ… PASSED

ğŸ§ª Test 9.2: Message Persistence
============================================================
âœ… PASSED

ğŸ§ª Test 9.3: Scene Image Storage
============================================================

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 9.1: Conversation Lifecycle
âœ… Test 9.2: Message Persistence
âŒ Test 9.3: Scene Image Storage
   - Unexpected error: Cannot read properties of null (reading 'id')

Total: 3 | Passed: 2 | Failed: 1


Error:
Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-database-state.ts"

```


## Next Steps


âš ï¸ **Some tests failed. Please review the errors above and:**
1. Check database state
2. Verify test data setup
3. Review edge function logs
4. Check API model configuration

