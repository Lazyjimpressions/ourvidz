
# Roleplay Test Execution Report

**Generated:** 2025-12-17T23:59:27.940Z
**Total Duration:** 23.14s

## Summary

- **Total Test Suites:** 4
- **Passed:** 3
- **Failed:** 1
- **Success Rate:** 75.0%

## Test Suite Results


### Character Selection & Navigation
- **Status:** âœ… PASSED
- **Duration:** 1.50s



### Chat Interaction Paths
- **Status:** âŒ FAILED
- **Duration:** 17.60s
- **Error:** Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-chat-interactions.ts"



### System Prompt & Template Testing
- **Status:** âœ… PASSED
- **Duration:** 1.32s



### Database State Verification
- **Status:** âœ… PASSED
- **Duration:** 2.72s



## Detailed Output


### Character Selection & Navigation
```
ğŸš€ Starting Character Selection & Navigation Tests
============================================================

ğŸ§ª Test 1.1: Direct Character Selection
============================================================
âœ… PASSED

ğŸ§ª Test 1.2: Character Selection with Scene
============================================================
âœ… PASSED

ğŸ§ª Test 1.3: Character Info Drawer
============================================================
âœ… PASSED

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 1.1: Direct Character Selection
âœ… Test 1.2: Character Selection with Scene
âœ… Test 1.3: Character Info Drawer

Total: 3 | Passed: 3 | Failed: 0


```


### Chat Interaction Paths
```
âœ… Using test user ID: 3348b481-8fb1-4745-8e6c-db6e9847e429
ğŸš€ Starting Chat Interaction Tests
============================================================

ğŸ§ª Test 2.1: Conversation Kickoff
============================================================
âŒ FAILED
Errors: [
  'Template load failed: JSON object requested, multiple (or no) rows returned'
]

ğŸ§ª Test 2.2: Regular Message Exchange
============================================================
âœ… PASSED

ğŸ§ª Test 2.3: Message with Scene Generation
============================================================
âŒ FAILED
Errors: [ 'Scene generation job ID not returned' ]

============================================================
ğŸ“Š Test Summary
============================================================
âŒ Test 2.1: Conversation Kickoff
   - Template load failed: JSON object requested, multiple (or no) rows returned
âœ… Test 2.2: Regular Message Exchange
âŒ Test 2.3: Message with Scene Generation
   - Scene generation job ID not returned

Total: 3 | Passed: 1 | Failed: 2


Error:
Command failed: npx tsx "/Users/jonathanhughes/Development/ourvidz/scripts/test-roleplay/test-chat-interactions.ts"

```


### System Prompt & Template Testing
```
ğŸš€ Starting System Prompt & Template Tests
============================================================

ğŸ§ª Test 3.1: Prompt Template Application
============================================================
âœ… PASSED

ğŸ§ª Test 3.2: Character Data Integration
============================================================
âœ… PASSED

ğŸ§ª Test 3.3: Scene System Prompt Application
============================================================
âœ… PASSED

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 3.1: Prompt Template Application
âœ… Test 3.2: Character Data Integration
âœ… Test 3.3: Scene System Prompt Application

Total: 3 | Passed: 3 | Failed: 0


```


### Database State Verification
```
âœ… Using test user ID: 3348b481-8fb1-4745-8e6c-db6e9847e429
ğŸš€ Starting Database State Verification Tests
============================================================

ğŸ§ª Test 9.1: Conversation Lifecycle
============================================================
âœ… PASSED

ğŸ§ª Test 9.2: Message Persistence
============================================================
âœ… PASSED

ğŸ§ª Test 9.3: Scene Image Storage
============================================================
âœ… PASSED

============================================================
ğŸ“Š Test Summary
============================================================
âœ… Test 9.1: Conversation Lifecycle
âœ… Test 9.2: Message Persistence
âœ… Test 9.3: Scene Image Storage

Total: 3 | Passed: 3 | Failed: 0


```


## Next Steps


âš ï¸ **Some tests failed. Please review the errors above and:**
1. Check database state
2. Verify test data setup
3. Review edge function logs
4. Check API model configuration

